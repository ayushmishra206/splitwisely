<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SplitWisely - Smart Expense Sharing</title>
    <meta name="description" content="Split expenses effortlessly with friends, family, and roommates. Track shared costs, settle debts, and manage group finances seamlessly.">
    <meta name="theme-color" content="#3b82f6">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- App Container -->
    <div id="app" class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-calculator"></i>
                    <span>SplitWisely</span>
                </div>
                <div class="header-actions">
                    <button id="theme-toggle" class="icon-btn" title="Toggle dark mode">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="menu-toggle" class="icon-btn mobile-only" title="Menu">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav" id="nav">
            <div class="nav-content">
                <button class="nav-item" data-view="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-view="groups">
                    <i class="fas fa-users"></i>
                    <span>Groups</span>
                </button>
                <button class="nav-item" data-view="expenses">
                    <i class="fas fa-receipt"></i>
                    <span>Expenses</span>
                </button>
                <button class="nav-item" data-view="balances">
                    <i class="fas fa-balance-scale"></i>
                    <span>Balances</span>
                </button>
                <button class="nav-item" data-view="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view active">
                <div class="view-header">
                    <h1>Dashboard</h1>
                    <button class="btn btn-primary" id="quick-add-expense">
                        <i class="fas fa-plus"></i>
                        Add Expense
                    </button>
                </div>
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Groups</h3>
                            <button class="btn btn-outline btn-sm" id="view-all-groups">View All</button>
                        </div>
                        <div class="card-content" id="recent-groups">
                            <div class="empty-state">
                                <i class="fas fa-users"></i>
                                <p>No groups yet. Create your first group to get started!</p>
                                <button class="btn btn-primary" id="create-first-group">Create Group</button>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>Your Balance</h3>
                        </div>
                        <div class="card-content" id="balance-summary">
                            <div class="balance-item">
                                <span class="balance-label">You owe</span>
                                <span class="balance-amount owe" id="total-owe">$0.00</span>
                            </div>
                            <div class="balance-item">
                                <span class="balance-label">You are owed</span>
                                <span class="balance-amount owed" id="total-owed">$0.00</span>
                            </div>
                            <div class="balance-item total">
                                <span class="balance-label">Net balance</span>
                                <span class="balance-amount" id="net-balance">$0.00</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Expenses</h3>
                            <button class="btn btn-outline btn-sm" id="view-all-expenses">View All</button>
                        </div>
                        <div class="card-content" id="recent-expenses">
                            <div class="empty-state">
                                <i class="fas fa-receipt"></i>
                                <p>No expenses yet. Add your first expense!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Groups View -->
            <div id="groups-view" class="view">
                <div class="view-header">
                    <h1>Groups</h1>
                    <button class="btn btn-primary" id="create-group-btn">
                        <i class="fas fa-plus"></i>
                        Create Group
                    </button>
                </div>
                <div class="groups-grid" id="groups-grid">
                    <!-- Groups will be populated here -->
                </div>
            </div>

            <!-- Expenses View -->
            <div id="expenses-view" class="view">
                <div class="view-header">
                    <h1>Expenses</h1>
                    <div class="view-actions">
                        <select id="expense-group-filter" class="form-select">
                            <option value="">All Groups</option>
                        </select>
                        <button class="btn btn-primary" id="add-expense-btn">
                            <i class="fas fa-plus"></i>
                            Add Expense
                        </button>
                    </div>
                </div>
                <div class="expenses-list" id="expenses-list">
                    <!-- Expenses will be populated here -->
                </div>
            </div>

            <!-- Balances View -->
            <div id="balances-view" class="view">
                <div class="view-header">
                    <h1>Balances</h1>
                    <button class="btn btn-secondary" id="settle-all-btn">
                        <i class="fas fa-handshake"></i>
                        Settle All
                    </button>
                </div>
                <div class="balances-content" id="balances-content">
                    <!-- Balances will be populated here -->
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view">
                <div class="view-header">
                    <h1>Settings</h1>
                </div>
                <div class="settings-content">
                    <div class="card">
                        <div class="card-header">
                            <h3>Data Management</h3>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <label>Export Data</label>
                                <button class="btn btn-outline" id="export-data-btn">
                                    <i class="fas fa-download"></i>
                                    Export JSON
                                </button>
                            </div>
                            <div class="setting-item">
                                <label>Import Data</label>
                                <input type="file" id="import-file" accept=".json" style="display: none;">
                                <button class="btn btn-outline" id="import-data-btn">
                                    <i class="fas fa-upload"></i>
                                    Import JSON
                                </button>
                            </div>
                            <div class="setting-item">
                                <label>Clear All Data</label>
                                <button class="btn btn-danger" id="clear-data-btn">
                                    <i class="fas fa-trash"></i>
                                    Clear Data
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>App Info</h3>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <label>Version</label>
                                <span>1.0.0</span>
                            </div>
                            <div class="setting-item">
                                <label>Storage Used</label>
                                <span id="storage-usage">0 KB</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modals -->
        <div id="modal-overlay" class="modal-overlay">
            <!-- Create Group Modal -->
            <div id="create-group-modal" class="modal">
                <div class="modal-header">
                    <h2>Create New Group</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="create-group-form" class="modal-body">
                    <div class="form-group">
                        <label for="group-name">Group Name</label>
                        <input type="text" id="group-name" required placeholder="e.g., Trip to Paris">
                    </div>
                    <div class="form-group">
                        <label for="group-description">Description (optional)</label>
                        <input type="text" id="group-description" placeholder="What's this group for?">
                    </div>
                    <div class="form-group">
                        <label>Members</label>
                        <div class="members-input">
                            <input type="text" id="member-name" placeholder="Add member name">
                            <button type="button" id="add-member" class="btn btn-outline btn-sm">Add</button>
                        </div>
                        <div id="members-list" class="members-list"></div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline modal-cancel">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Group</button>
                    </div>
                </form>
            </div>

            <!-- Add Expense Modal -->
            <div id="add-expense-modal" class="modal">
                <div class="modal-header">
                    <h2>Add Expense</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <form id="add-expense-form" class="modal-body">
                    <div class="form-group">
                        <label for="expense-description">Description</label>
                        <input type="text" id="expense-description" required placeholder="e.g., Dinner at restaurant">
                    </div>
                    <div class="form-group">
                        <label for="expense-amount">Amount</label>
                        <input type="number" id="expense-amount" step="0.01" required placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="expense-group">Group</label>
                        <select id="expense-group" required>
                            <option value="">Select a group</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expense-payer">Paid by</label>
                        <select id="expense-payer" required>
                            <option value="">Select who paid</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Split method</label>
                        <div class="split-method-tabs">
                            <button type="button" class="split-tab active" data-method="equal">Equal</button>
                            <button type="button" class="split-tab" data-method="custom">Custom</button>
                        </div>
                        <div id="split-details" class="split-details">
                            <!-- Split details will be populated here -->
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline modal-cancel">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Expense</button>
                    </div>
                </form>
            </div>

            <!-- Settle Balance Modal -->
            <div id="settle-modal" class="modal">
                <div class="modal-header">
                    <h2>Settle Balance</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="settle-details"></div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline modal-cancel">Cancel</button>
                        <button type="button" class="btn btn-primary" id="confirm-settle">Settle</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>